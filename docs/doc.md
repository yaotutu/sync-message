### Sync-Message 同步消息卡密平台 (2024-至今)

`Next.js 15` `React 19` `TypeScript 5` `Prisma 6` `Tailwind CSS` `Webhook`

#### 项目介绍
* 该项目是一个基于卡密系统的消息同步平台，通过卡密验证实现消息访问控制
* 系统核心功能是"一个用户对应多个卡密，任何人凭卡密可查看该用户全部消息"
* 支持通过 webhook 接收并存储消息，实现消息的自动同步
* 提供完整的后台管理功能，包括用户配置、商品管理、卡密管理等模块

#### 主要功能

1. 卡密验证系统
   * 卡密生成与管理
     - 支持批量生成卡密，记录卡密使用状态，追踪使用时间(usedAt)，支持设置过期时间
   * 卡密验证功能
     - 一键验证访问权限，自动更新使用状态，过期时间检查，访问记录保存

2. 消息管理系统
   * 消息接收功能
     - Webhook自动接收，消息实时存储，关联用户信息，支持多种消息格式
   * 消息展示功能
     - 分页加载展示，时间顺序排序，支持消息搜索，未读消息提醒

3. 用户配置系统
   * 个人设置管理
     - 页面标题设置，界面主题配置，消息展示设置，系统通知设置
   * 商品管理功能
     - 商品信息维护，价格配置管理，商品上下架，链接生成分享

4. 访问控制系统
   * 用户权限管理
     - 登录用户鉴权，卡密访问控制，接口访问限制，敏感操作保护
   * 数据安全保障
     - 数据加密存储，敏感信息脱敏，操作日志记录，异常访问拦截

#### 主要技术
* 前端技术栈
  * 基于 Next.js 15 App Router 架构构建，使用 TypeScript 5.7 确保类型安全
  * 采用 React 19 新特性开发，TanStack Query v5 处理数据请求
  * 使用 Tailwind CSS 实现响应式布局，集成 Sonner 提供 Toast 通知
  * Headless UI 提供无样式组件，支持高度定制化

* 后端技术栈
  * Next.js 15 API Routes 构建接口，Prisma 6 ORM 操作数据库
  * SQLite 数据存储，Next-Auth v4 处理身份验证
  * Zod 进行数据验证，Jose 处理 JWT

* 数据模型设计
  * 完整的关系模型：User用户信息，CardKey卡密管理，Message消息存储，Product商品管理，Admin权限控制
  * 优化的数据关系：建立合理的模型关联，使用索引提升查询性能

* 开发规范
  * ESLint 9 代码规范，TypeScript 严格模式，Git 版本控制，自动化开发日志

#### 项目难点

1. 卡密验证系统
   * 实现卡密生成和验证逻辑，处理过期和失效机制，优化验证性能，使用 Zod 进行数据校验

2. 消息同步机制
   * Webhook 接口接收消息，React Query 实现数据缓存，消息实时推送，处理大量消息存储展示

3. 权限管理设计
   * Next-Auth 实现用户认证，JWT 处理身份验证，区分用户权限，保护敏感接口和数据

4. 商品系统对接
   * 商品信息管理和展示，商品关联用户，Prisma 关系处理，数据同步更新

5. 性能优化
   * App Router 路由优化，React Server Components，消息分页加载，数据库查询优化，组件复用优化